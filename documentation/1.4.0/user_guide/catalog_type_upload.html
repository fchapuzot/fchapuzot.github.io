
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-73216650-1', 'auto');
ga('set', {
  page: '/documentation/1.4.0/user_guide/catalog_type_upload.html',
  title: 'Components/types upload'
});
ga('send', 'pageview');

</script>

<div class="container-fluid">
  <div class="row">
    
      <div class="col-sm-4 col-md-3">
        <div id="sidebar_menu" class="tree" role="complementary"></div>
      </div>
      <div id="content" class="col-sm-8 col-md-9">
    
        <div style="height: 50px;">
          <h1 class="pull-left" style="margin-top: 0px;">Components/types upload</h1>
          <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.4.0/user_guide/catalog_type_upload.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
        </div>
        <p>You cannot upload the same archive (same id and version) mutliple times. If you changed an archive, you must increment the version number so you can upload it to Alien.</p>

<div class="note info">
<h5>Create your own component</h5>
<p>You can find more information on TOSCA and how you can write new types in TOSCA archives <a href="#/documentation/1.4.0/devops_guide/dev_ops_guide.html">here</a>.</p>
</div>

<p>There are multiple ways to upload components in alien4cloud for evey one of them you must first go to the <img src="../../images/1.4.0/user_guide/catalog/types/menu_components_main.png" alt="components" class="inline" /> section of the main menu.</p>

<div class="tabsection"><ul class="nav nav-tabs"></ul><div class="tab-content">
<div class="tab-pane" title="Drag and Drop enabled">
<p><em>Drag</em> you archive file &gt; <em>Drop</em> it on the <strong>dash dotted</strong> area<br />
Once upload has been completed successfully you should be able to see the node types contained in the archive in the components browsing panel.</p>

<p><a href="../../images/1.4.0/user_guide/catalog/types/upload_success.png"><img src="../../images/1.4.0/user_guide/catalog/types/upload_success.png" alt="Completed  archive file upload" /></a></p>
</div>
<div class="tab-pane" title="Drag and Drop disabled">
<p>Click on <em>[Upload CSAR]</em> &gt; <em>Select</em> your archive (The file is automaticly uploaded)</p>

<p><a href="../../images/components_guide/upload-components-button-en.png"><img src="../../images/components_guide/upload-components-button-en.png" alt="Upload an archive file without D&amp;D" /></a></p>

<p>Once upload has been completed successfully you should be able to see the node types contained in the archive in the components browsing panel.</p>

<p><a href="../../images/1.4.0/user_guide/catalog/types/upload_success.png"><img src="../../images/1.4.0/user_guide/catalog/types/upload_success.png" alt="Completed  archive file upload" /></a></p>
</div>

<div class="tab-pane" title="Import from a Git location">
<p>Alien4cloud allow you to import components from git repositories. Users with <em>COMPONENT_MANAGER</em> role can, from the component section, access the git repository synchronization section by clicking on the left menu <img src="../../images/1.4.0/user_guide/catalog/types/menu_git.png" alt="git icon" height="26px" class="inline" />.</p>

<p>The git repositories management screen allow you to register a git repository to import and trigger the import. In order to register a new git repository click on the <img src="../../images/1.4.0/user_guide/catalog/types/new_git_location.png" alt="Git location" height="26px" class="inline" /> button. Then fill the information on the modal as specified below.</p>

<p><a href="../../images/1.4.0/user_guide/catalog/types/new_git_location_modal.png"><img src="../../images/1.4.0/user_guide/catalog/types/new_git_location_modal.png" alt="New git location modal" style="width: 600px; margin: 0 auto" /></a></p>

<ul>
  <li><strong>Repository URL</strong>: This is the url of your git repository, for example https://github.com/alien4cloud/samples.git. Note that we support only http(s) urls.</li>
  <li><strong>Credentials</strong>: The username and password that alien4cloud will use to connect to the github repository.</li>
  <li><strong>On branch</strong> / <strong>Archive(s) to import</strong>: List of branches/sub-folders association to locate the TOSCA archive(s) to import from the git repository. The sub-folders is optional and by default alien will locate all archives within the git repository.</li>
  <li><strong>Save the repository locally</strong>: If false alien4cloud will keep the repository content local, if not the git import process will fetch the repository, process the import in alien4cloud and then remove the local clone of the git repository. If true the repository local clone will not be removed from alien server. Default is false.</li>
</ul>

<div class="note">
<p>Alien4cloud is very flexible on the structure of your git repositories and how you keep archives within. We ourself decided to keep multiple archives within the single samples repository.
This choice is a really specific choice as we tag the samples branch not following the versions of the archives but to the version of alien the samples support.
You may also store multiple archives within a single git repository when all archives are sharing the same version and are packaged together. Note that in that case you have the choice of having a single archive or multiple ones.
The choice here should be focused on usability and merge perspective. The devops guide section contains more information on possible choices and example on how and why you should go for one of them.</p>
</div>

<p>Once imported you can see the new created git location in the list:</p>

<p><a href="../../images/1.4.0/user_guide/catalog/types/component_git_location_list.png"><img src="../../images/1.4.0/user_guide/catalog/types/component_git_location_list.png" alt="Trigger an archive from a location" /></a></p>

<p>Click on <img src="../../images/1.4.0/user_guide/catalog/types/git_import_btn.png" alt="Git location" class="inline" /> to trigger the import process. Once completed the import result is displayed with itâ€™s state, and eventual errors, warning or info messages.</p>

<p><a href="../../images/1.4.0/user_guide/catalog/types/git_import_result.png"><img src="../../images/1.4.0/user_guide/catalog/types/git_import_result.png" alt="Result of an import" /></a></p>
</div>
</div></div>

<p>You can now <a href="#/documentation/1.4.0/user_guide/catalog_type_search.html">browse and search for components</a>.</p>

<div class="note warning">
<h5>Roles and security</h5>
<p>In order to be able to add components to the repository you must have the <em>COMPONENT_MANAGER</em> role. Note that if the archive you wish to upload contains both tosca types (node types, relationship types etc.) and both a topology template, then you must have both the <em>COMPONENT_MANAGER</em> (for type upload) and <em>ARCHITECT</em> (for template upload) role. Note that</p>
</div>

<h2 id="upload-issues">Upload issues</h2>

<p>Alien 4 Cloud performs validation of your archive agains the TOSCA specification.</p>

<p>The following image shows the upload of an archive with an error :
<a href="../../images/1.4.0/user_guide/catalog/types//csar-upload-errors.png"><img src="../../images/1.4.0/user_guide/catalog/types//csar-upload-errors.png" alt="Upload an archive with error" /></a></p>

<div class="note">
<p>When deploying on some cloud technologies alien4cloud uses some node template names in the name of the generated ressources (VMs, BlockStorage etc.). Some cloud APIs do not manage special characters as dashes or underscore. In addition some people like to set the hostname based on the name of the node template. Therefore and while this is authorized in TOSCA alien4cloud prevent naming the node template with such characters.</p>

<p>If a node template name contains some special character (is: not an alphanumeric character from the basic Latin alphabet and the underscore) we will automatically replace these characters.</p>
</div>

        <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.4.0/user_guide/catalog_type_upload.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
	  </div>
    </div>
  </div>
</div><!-- /container -->

<script>
var hash = location.hash.replace( /^#/, '' );
if(hash && hash!== null && hash.match(/html$/)) {
} else {
  var newLocation = location.protocol+"//"+location.host+"#"+location.pathname;
  location.replace(newLocation);
}
</script>
<script type="text/javascript" src="/js/post-layout.js"></script>
<script>
$(document).ready(function () {
  makeSideBar('DOCUMENTATION-1.4.0', 'documentation/1.4.0/user_guide/catalog_type_upload.md');
});
</script>

<script>
$("div[data-gist]").gist();
</script>
