
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-73216650-1', 'auto');
ga('set', {
  page: '/documentation/1.3.0/user_guide/catalog_type_upload.html',
  title: 'Components/types upload'
});
ga('send', 'pageview');

</script>

<div class="container-fluid">
  <div class="row">
    
      <div class="col-sm-4 col-md-3">
        <div id="sidebar_menu" class="tree" role="complementary"></div>
      </div>
      <div id="content" class="col-sm-8 col-md-9">
    
        <div style="height: 50px;">
          <h1 class="pull-left" style="margin-top: 0px;">Components/types upload</h1>
          <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.3.0/user_guide/catalog_type_upload.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
        </div>
        <p>You cannot upload the same archive (same id and version) mutliple times. If you changed an archive, you must increment the version number so you can upload it to Alien.</p>

<div class="note info">
<h5>Create your own component</h5>
<p>If you want create your own component please go <a href="#/documentation/1.3.0/devops_guide/design_tutorial/tutorials.html">here</a>.</p>
</div>

<div class="note warning">
<h5>Roles and security</h5>
<p>In order to be able to add components to the repository you must have the <em>COMPONENT_MANAGER</em> role. Note that if the archive you wish to upload contains both nodes and relationship types and both a topology template, then you must have both the <em>COMPONENT_MANAGER</em> and <em>ARCHITECT</em> role</p>
</div>

<p>There are three ways to upload components descriptions in ALIEN regarding you browser capabilities :</p>

<div class="tabsection"><ul class="nav nav-tabs"></ul><div class="tab-content">
<div class="tab-pane" title="Drag and Drop enabled">
<p><em>Drag</em> you archive file &gt; <em>Drop</em> it on the <strong>dash dotted</strong> area</p>

<p><a href="../../images/components_guide/upload-components-en.png"><img src="../../images/components_guide/upload-components-en.png" alt="Upload an archive file with D&amp;D" /></a></p>

<p>Once upload has been completed successfully you should be able to see the node types contained in the archive in the components browsing panel.</p>

<p><a href="../../images/components_guide/upload-components-finished-en.png"><img src="../../images/components_guide/upload-components-finished-en.png" alt="Completed  archive file upload" /></a></p>
</div>
<div class="tab-pane" title="Drag and Drop disabled">
<p>Click on <em>[Upload CSAR]</em> &gt; <em>Select</em> your archive (The file is automaticly uploaded)</p>

<p><a href="../../images/components_guide/upload-components-button-en.png"><img src="../../images/components_guide/upload-components-button-en.png" alt="Upload an archive file without D&amp;D" /></a></p>

<p>Once upload has been completed successfully you should be able to see the node types contained in the archive in the components browsing panel.</p>

<p><a href="../../images/components_guide/upload-components-finished-en.png"><img src="../../images/components_guide/upload-components-finished-en.png" alt="Completed  archive file upload" /></a></p>
</div>

<div class="tab-pane" title="Import from a Git location">
<div class="note warning">
<h5>Git repository hierarchy</h5>
<p>In order to be able to import components properly, this feature required a folder organisation based on TOSCA recommendation
For example, if you want to import one of the Samples repository, the folder to import musn’t contains a Yaml file at its root.
<em>See apache archive for examples  <a href="https://github.com/alien4cloud/samples/tree/master/apache">Github apache example</a>.</em>
If the folder is based on an older TOSCA recommandation, please ensure you have a folder named TOSCA-Metadata and the YAML file to import in another folder
<em>See recipes archive for examples <a href="https://fastconnect.org/gitblit/git/alien-tosca-recipes/recipes.git">Gitblit recipes example</a>.</em></p>
</div>

<p>Click on <img src="../../images/components_guide/git_location.png" alt="Git location" class="inline" /></p>

<p><a href="../../images/1.3.0/user_guide/component_git_locations.png"><img src="../../images/1.3.0/user_guide/component_git_locations.png" alt="Create an archive from a git location" /></a></p>

<p>Fill the modal by typing expected values and save.</p>

<div class="note">
<p>In the Archive’s folder text field : put the name of the folder containing the yaml file <em>for example <strong>apache</strong> to import Apache component in the Samples repository</em>.
You can also leave this text filed empty (under no circumstance put an * ) : <strong>it will import all the folders if its contains a yaml file</strong>.
Credentials text fields can be used to access private repository.
Click on <em>Save the repository locally</em> if you want the repository to be stored on your computer, this will enable the versionning manager on it.</p>
</div>

<p><a href="../../images/components_guide/csar-modal-v2.png"><img src="../../images/components_guide/csar-modal-v2.png" alt="Csar view an archive from a location" /></a></p>

<p>Now you should be able to see the Csar git location created in the tab below</p>

<p><a href="../../images/1.3.0/user_guide/component_git_location_list.png"><img src="../../images/1.3.0/user_guide/component_git_location_list.png" alt="Trigger an archive from a location" /></a></p>

<p>Click on <img src="../../images/1.3.0/user_guide/git_import_btn.png" alt="Git location" class="inline" /> to trigger the import process.</p>

<p>Now you should be able to see the imported Csar in the <em>Csars added</em> tab and the related import result in the tab below.</p>

<p><a href="../../images/1.3.0/user_guide/git_import_result.png"><img src="../../images/1.3.0/user_guide/git_import_result.png" alt="Result of an import" /></a></p>
</div>
</div></div>

<p>You can now <a href="#/documentation/1.3.0/user_guide/catalog_type_search.html">browse and search for components</a>.</p>

<h2 id="upload-issues">Upload issues</h2>

<p>Alien 4 Cloud performs validation of your archive agains the TOSCA specification.</p>

<p>The following image shows the upload of an archive with an error :
<a href="../../images/components_guide/csar-upload-errors.png"><img src="../../images/components_guide/csar-upload-errors.png" alt="Upload an archive with error" /></a></p>

<div class="note">
<p>When deploying on some cloud technologies alien4cloud uses some node template names in the name of the generated ressources (VMs, BlockStorage etc.). Some cloud APIs do not manage special characters as dashes or underscore. In addition some people like to set the hostname based on the name of the node template. Therefore and while this is authorized in TOSCA alien4cloud prevent naming the node template with such characters.</p>

<p>If a node template name contains some special character (is: not an alphanumeric character from the basic Latin alphabet and the underscore) we will automatically replace these characters.</p>
</div>

        <a class="btn btn-primary pull-right" href="http://prose.io/#alien4cloud/alien4cloud.github.io/edit/sources/documentation/1.3.0/user_guide/catalog_type_upload.md"><i class="fa fa-pencil-square-o"></i> Edit (pull request)</a>
	  </div>
    </div>
  </div>
</div><!-- /container -->

<script>
var hash = location.hash.replace( /^#/, '' );
if(hash && hash!== null && hash.match(/html$/)) {
} else {
  var newLocation = location.protocol+"//"+location.host+"#"+location.pathname;
  location.replace(newLocation);
}
</script>
<script type="text/javascript" src="/js/post-layout.js"></script>
<script>
$(document).ready(function () {
  makeSideBar('DOCUMENTATION-1.3.0', 'documentation/1.3.0/user_guide/catalog_type_upload.md');
});
</script>

<script>
$("div[data-gist]").gist();
</script>
